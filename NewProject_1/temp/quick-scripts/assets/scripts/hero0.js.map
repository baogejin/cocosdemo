{"version":3,"sources":["hero0.js"],"names":["cc","Class","extends","Component","properties","speed","background","default","type","Node","upButton","downButton","leftButton","rightButton","onLoad","directionData","anim","getComponent","Animation","dirction","actLeft","actUp","actDown","actRight","move","animSate","play","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","KEY_UP","onKeyUp","TOUCH_START","TOUCH_END","TOUCH_CANCEL","onDestroy","off","event","keyCode","macro","KEY","a","w","s","d","onBtnEvent","setDirection","resume","start","update","dt","node","y","height","x","width","pause"],"mappings":"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","file":"hero0.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        speed: 20,\n        background: {\n            default: null,\n            type: cc.Node\n        },\n        upButton: {\n            default: null,\n            type: cc.Node\n        },\n\n        downButton: {\n            default: null,\n            type: cc.Node\n        },\n\n        leftButton: {\n            default: null,\n            type: cc.Node\n        },\n\n        rightButton: {\n            default: null,\n            type: cc.Node\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.directionData = [\"hero0-down\", \"hero0-left\", \"hero0-up\", \"hero0-right\"]\n        var anim = this.getComponent(cc.Animation);\n        this.dirction = 0\n        this.actLeft = false\n        this.actUp = false\n        this.actDown = false\n        this.actRight = false\n        this.move = true\n        this.animSate = anim.play('hero0-down')\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n\n        if (this.upButton) {\n            this.upButton.on(cc.Node.EventType.TOUCH_START, event => {\n                this.actUp = true\n            }, this);\n            this.upButton.on(cc.Node.EventType.TOUCH_END, event => {\n                this.actUp = false\n            }, this);\n            this.upButton.on(cc.Node.EventType.TOUCH_CANCEL, event => {\n                this.actUp = false\n            }, this);\n        }\n\n        if (this.downButton) {\n            this.downButton.on(cc.Node.EventType.TOUCH_START, event => {\n                this.actDown = true\n            }, this);\n            this.downButton.on(cc.Node.EventType.TOUCH_END, event => {\n                this.actDown = false\n            }, this);\n            this.downButton.on(cc.Node.EventType.TOUCH_CANCEL, event => {\n                this.actDown = false\n            }, this);\n        }\n\n        if (this.leftButton) {\n            this.leftButton.on(cc.Node.EventType.TOUCH_START, event => {\n                this.actLeft = true\n            }, this);\n            this.leftButton.on(cc.Node.EventType.TOUCH_END, event => {\n                this.actLeft = false\n            }, this);\n            this.leftButton.on(cc.Node.EventType.TOUCH_CANCEL, event => {\n                this.actLeft = false\n            }, this);\n        }\n\n        if (this.rightButton) {\n            this.rightButton.on(cc.Node.EventType.TOUCH_START, event => {\n                this.actRight = true\n            }, this);\n            this.rightButton.on(cc.Node.EventType.TOUCH_END, event => {\n                this.actRight = false\n            }, this);\n            this.rightButton.on(cc.Node.EventType.TOUCH_CANCEL, event => {\n                this.actRight = false\n            }, this);\n        }\n    },\n\n    onDestroy() {\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n    },\n\n    onKeyDown() {\n        switch (event.keyCode) {\n            case cc.macro.KEY.a:\n                this.actLeft = true\n                break\n            case cc.macro.KEY.w:\n                this.actUp = true\n                break\n            case cc.macro.KEY.s:\n                this.actDown = true\n                break\n            case cc.macro.KEY.d:\n                this.actRight = true\n                break\n            default:\n                break\n        }\n    },\n    onKeyUp() {\n        switch (event.keyCode) {\n            case cc.macro.KEY.a:\n                this.actLeft = false\n                break\n            case cc.macro.KEY.w:\n                this.actUp = false\n                break\n            case cc.macro.KEY.s:\n                this.actDown = false\n                break\n            case cc.macro.KEY.d:\n                this.actRight = false\n                break\n            default:\n                break\n        }\n    },\n    onBtnEvent(){\n\n    },\n\n    setDirection(d) {\n        if (this.dirction != d) {\n            this.dirction = d\n            var anim = this.getComponent(cc.Animation);\n            this.animSate = anim.play(this.directionData[d])\n        } else if (this.move == false) {\n            var anim = this.getComponent(cc.Animation);\n            anim.resume()\n        }\n        this.move = true\n    },\n    start() {\n\n    },\n\n    update(dt) {\n\n        var d = -1\n        if (this.actDown) {\n            d = 0\n            if (this.node.y - this.speed > -(this.background.height / 2 - 32 / 2)) {\n                this.node.y -= this.speed\n            } else {\n                this.node.y = -(this.background.height / 2 - 32 / 2)\n            }\n        } else if (this.actUp) {\n            d = 2\n            if (this.node.y + this.speed < this.background.height / 2 - 32 / 2) {\n                this.node.y += this.speed\n            } else {\n                this.node.y = this.background.height / 2 - 32 / 2\n            }\n        } else if (this.actLeft) {\n            d = 1\n            if (this.node.x - this.speed > -(this.background.width / 2 - 32 / 2)) {\n                this.node.x -= this.speed\n            } else {\n                this.node.x = -(this.background.width / 2 - 32 / 2)\n            }\n        } else if (this.actRight) {\n            d = 3\n            if (this.node.x + this.speed < this.background.width / 2 - 32 / 2) {\n                this.node.x += this.speed\n            } else {\n                this.node.x = this.background.width / 2 - 32 / 2\n            }\n        }\n        if (d != -1) {\n            this.setDirection(d)\n        } else if (this.move) {\n            this.move = false\n            var anim = this.getComponent(cc.Animation);\n            anim.pause()\n        }\n\n    },\n});\n"]}